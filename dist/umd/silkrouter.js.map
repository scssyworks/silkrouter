{"version":3,"file":"silkrouter.js","sources":["../../node_modules/is-object/index.js","../../src/js/constants/index.js","../../src/js/utils/triggerEvent.js","../../src/js/utils/utils.js","../../src/js/api/set/index.js","../../src/js/utils/getPath.js","../../src/js/api/routerEvent/index.js","../../src/js/api/callOnce/index.js","../../src/js/api/collate/index.js","../../src/js/api/router/RouterCore.js","../../src/js/api/router/Router.js","../../src/js/utils/params.js"],"sourcesContent":["'use strict';\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === 'object' && x !== null;\n};\n","/**\n * Router constants\n */\nexport const POP_STATE = 'popstate';\nexport const REG_ROUTE_PARAMS = /:[^/]+/g;\nexport const REG_PATHNAME = /^\\/(?=[^?]*)/;\nexport const HISTORY_UNSUPPORTED =\n  'History is not supported in this environment!';\nexport const INVALID_ROUTE = 'Route format is incorrect!';\nexport const VIRTUAL_PUSHSTATE = 'vpushstate';\nexport const QRY = '?';\nexport const EMPTY = '';\nexport const UNDEF = void 0;\nexport const STATE = 'State';\nexport const PUSH = `push${STATE}`;\nexport const REPLACE = `replace${STATE}`;\n","/**\n * Function to trigger custom event\n * @param {HTMLElement} context Context element\n * @param {string} eventType Event type\n * @param {any[]} data Data to be passed to handler\n */\nexport function trigger(context, eventType, data) {\n  context.dispatchEvent(\n    new CustomEvent(eventType, {\n      bubbles: true,\n      cancelable: true,\n      detail: data || [],\n    }),\n  );\n}\n","import { EMPTY, REG_PATHNAME } from '../constants';\n\n/**\n * Checks if input value is a string\n * @param {any} str String value\n * @returns {boolean}\n */\nexport function isString(str) {\n  return typeof str === 'string';\n}\n\n/**\n * Safely trims string\n * @param {string} str String\n */\nexport function trim(str) {\n  return isString(str) ? str.trim() : EMPTY;\n}\n\n/**\n * Checks if given route is valid\n * @private\n * @param {string} route Route string\n */\nexport function isValidRoute(route) {\n  return REG_PATHNAME.test(route);\n}\n","import isObject from 'is-object';\nimport {\n  EMPTY,\n  INVALID_ROUTE,\n  PUSH,\n  QRY,\n  REPLACE,\n  VIRTUAL_PUSHSTATE,\n} from '../../constants';\nimport { trigger } from '../../utils/triggerEvent';\nimport { isValidRoute, trim } from '../../utils/utils';\n\n/**\n * Sets the current route\n * @private\n * @typedef {import('./types').RouteConfig} RouteConfig\n * @param {string} routeStr Route string\n * @param {RouteConfig} [rConfig] Route config\n */\nexport default function set(routeStr, rConfig) {\n  const routeConfig = isObject(rConfig) ? rConfig : {};\n  const [route, qs] = routeStr.split(QRY);\n  const {\n    replace = false,\n    preventDefault = false,\n    queryString = qs,\n    data,\n    pageTitle = null,\n  } = routeConfig;\n  const { preservePath, hashRouting: hash, history, context } = this.config;\n  // Resolve to URL query string if it's not explicitly passed\n  let routeString = trim(route);\n  if (isValidRoute(routeString)) {\n    const path = routeString;\n    if (hash) {\n      routeString = `${preservePath ? '' : '/'}#${routeString}`;\n    }\n    // Append query string\n    routeString = `${routeString}${trim(\n      queryString ? `${QRY + queryString}` : EMPTY,\n    )}`;\n    const savedState = history.state || { idx: 0 };\n    history[replace ? REPLACE : PUSH](\n      {\n        data,\n        idx: savedState.idx + 1,\n      },\n      pageTitle,\n      routeString,\n    );\n    if (!preventDefault && path) {\n      trigger(context, VIRTUAL_PUSHSTATE, [\n        {\n          path,\n          hash,\n        },\n        undefined,\n        this,\n      ]);\n    }\n  } else {\n    throw new TypeError(INVALID_ROUTE);\n  }\n}\n","import { QRY } from '../constants';\nimport { trim } from './utils';\n\nexport const getPath = (isHash, location) => {\n  return trim(\n    isHash ? location.hash.substring(1).split(QRY)[0] : location.pathname,\n  );\n};\n","import { QRY } from '../../constants';\nimport { trim } from '../../utils/utils';\n\n/**\n * Creates an instance of router event\n */\nexport class RouterEvent {\n  /**\n   * Creates a instance of router event\n   * @typedef {import('./types').RouteInfo} RouteInfo\n   * @param {RouteInfo} routeInfo Route information\n   * @param {CustomEvent} currentEvent Current event object\n   */\n  constructor(routeInfo, currentEvent) {\n    // Set relevant parameters\n    const [routeObject, originalEvent, routerInstance] = routeInfo;\n    const { location, history } = routerInstance.config;\n    this.route = routeObject.path;\n    this.isHashRoute = routeObject.hash;\n    this.router = routerInstance;\n    this.currentEvent = originalEvent || currentEvent;\n    this.query = {\n      path: trim(location.search.substring(1)),\n      hash: trim(location.hash.split(QRY)[1]),\n    };\n    const { state } = originalEvent || {};\n    const { data, idx = 0 } = state || history.state || {};\n    this.data = data;\n    this.index = +idx;\n  }\n}\n","import { Observable } from 'rxjs';\nimport { getPath } from '../../utils/getPath';\nimport { RouterEvent } from '../routerEvent';\n\n/**\n * Calls the handler once on initialization\n * @param {boolean} [isd] Optional flag used as a switch\n * @returns {(observable: Observable<any>) => Observable<any>}\n */\nexport default function callOnce(isd) {\n  let isDone = isd;\n  const { hashRouting: hash, location, init } = this.config;\n  const path = getPath(hash, location);\n  return observable =>\n    new Observable(subscriber => {\n      const subn = observable.subscribe(subscriber);\n      if (!isDone) {\n        isDone = true;\n        if (init && path) {\n          subscriber.next(new RouterEvent([{ path, hash }, undefined, this]));\n        }\n      }\n      return () => {\n        subn.unsubscribe();\n      };\n    });\n}\n","import { Observable } from 'rxjs';\nimport { RouterEvent } from '../routerEvent';\n\n/**\n * Attaches a route handler\n * @returns {(observable: Observable<any>) => Observable<any>}\n */\nexport default function collate() {\n  return observable =>\n    new Observable(subscriber => {\n      const subn = observable.subscribe({\n        next: event => {\n          const [, , routerInstance] = event.detail;\n          if (routerInstance === this) {\n            subscriber.next(new RouterEvent(event.detail, event));\n          }\n        },\n        error: subscriber.error,\n        complete: subscriber.complete,\n      });\n      return () => {\n        subn.unsubscribe();\n      };\n    });\n}\n","import { fromEvent } from 'rxjs';\nimport {\n  HISTORY_UNSUPPORTED,\n  POP_STATE,\n  PUSH,\n  VIRTUAL_PUSHSTATE,\n} from '../../constants';\nimport { getPath } from '../../utils/getPath';\nimport { trigger } from '../../utils/triggerEvent';\nimport callOnce from '../callOnce';\nimport collate from '../collate';\n\n/**\n * Core router class to handle basic routing functionality\n */\nexport class RouterCore {\n  static get global() {\n    return typeof globalThis !== 'undefined' ? globalThis : global || self;\n  }\n  /**\n   * Router core constructor\n   * @typedef {import('./types').RouterCoreConfig} RouterCoreConfig\n   * @param {RouterCoreConfig} routerCoreConfig Route core configuration\n   */\n  constructor({ history, context, location, hash }) {\n    if (!history[PUSH]) {\n      throw new Error(HISTORY_UNSUPPORTED);\n    }\n    this.popStateSubscription = fromEvent(\n      RouterCore.global,\n      POP_STATE,\n    ).subscribe(e => {\n      const path = getPath(hash, location);\n      if (path) {\n        trigger(context, VIRTUAL_PUSHSTATE, [{ path, hash }, e, this]);\n      }\n    });\n    this.listeners = fromEvent(context, VIRTUAL_PUSHSTATE).pipe(\n      collate.apply(this),\n    );\n  }\n  /**\n   * Allows you to add operators for any pre-processing before a handler is called\n   * @typedef {import('./types').Operator} Operator\n   * @typedef {import('rxjs').Observable} Observable\n   * @param  {...Operator} ops Operators\n   * @returns {Observable<any>}\n   */\n  pipe(...ops) {\n    return this.listeners.pipe(callOnce.apply(this), ...ops);\n  }\n  /**\n   * Attaches a route handler\n   * @typedef {import('../routerEvent/index').RouterEvent} RouterEvent\n   * @param {(event: RouterEvent) => void} fn Route handler\n   */\n  subscribe(fn) {\n    return this.pipe().subscribe(fn);\n  }\n  /**\n   * Destroys current router instance\n   * @param {() => void} callback Callback for destroy function\n   */\n  destroy(callback) {\n    if (typeof callback === 'function') {\n      callback();\n    }\n    this.popStateSubscription.unsubscribe(); // Unsubscribe popstate event\n  }\n}\n","import isObject from 'is-object';\nimport set from '../set';\nimport { RouterCore } from './RouterCore';\n\n/**\n * Browser router to handle routing logic\n */\nexport class Router extends RouterCore {\n  /**\n   * Router constructor\n   * @typedef {import('./types').RouterConfig} RouterConfig\n   * @param {RouterConfig} config\n   */\n  constructor(config) {\n    config = isObject(config) ? config : {};\n    const { history, location, document } = RouterCore.global;\n    const context = document.body;\n    super({\n      history,\n      location,\n      context,\n      hash: config.hashRouting,\n    });\n    this.config = Object.freeze({\n      init: true,\n      hashRouting: false,\n      preservePath: false,\n      context,\n      history,\n      location,\n      ...config,\n    });\n    if (config.hashRouting && !location.hash) {\n      this.set('/', {\n        replace: true,\n        preventDefault: true, // Don't execute route handlers\n      });\n    }\n  }\n  /**\n   * Sets the current route path\n   * @typedef {import('../set/types').RouteConfig} RouteConfig\n   * @param {string} path Route path\n   * @param {RouteConfig} routeConfig Route config\n   */\n  set(path, routeConfig) {\n    set.apply(this, [path, routeConfig]);\n  }\n}\n","import { EMPTY, REG_ROUTE_PARAMS } from '../constants';\n\n/**\n * Parses current path and returns params object\n * @param {string} expr Route expression\n * @param {string} path URL path\n * @returns {{[key: string]: any}}\n */\nexport function resolveParams(expr, path) {\n  const params = {};\n  if (REG_ROUTE_PARAMS.test(expr)) {\n    const pathRegex = new RegExp(\n      expr.replace(/\\//g, '\\\\/').replace(/:[^/\\\\]+/g, '([^\\\\/]+)'),\n    );\n    REG_ROUTE_PARAMS.lastIndex = 0;\n    if (pathRegex.test(path)) {\n      const keys = Array.from(expr.match(REG_ROUTE_PARAMS)).map(key =>\n        key.replace(':', EMPTY),\n      );\n      const values = Array.from(path.match(pathRegex));\n      values.shift();\n      keys.forEach((key, index) => {\n        params[key] = values[index];\n      });\n    }\n  }\n  return params;\n}\n"],"names":["isObject","POP_STATE","REG_ROUTE_PARAMS","REG_PATHNAME","HISTORY_UNSUPPORTED","INVALID_ROUTE","VIRTUAL_PUSHSTATE","QRY","EMPTY","STATE","PUSH","REPLACE","trigger","context","eventType","data","dispatchEvent","CustomEvent","bubbles","cancelable","detail","isString","str","trim","isValidRoute","route","test","set","routeStr","rConfig","routeConfig","qs","split","replace","preventDefault","queryString","pageTitle","preservePath","hashRouting","hash","history","config","routeString","path","savedState","state","idx","undefined","TypeError","getPath","isHash","location","substring","pathname","RouterEvent","constructor","routeInfo","currentEvent","routeObject","originalEvent","routerInstance","isHashRoute","router","query","search","index","callOnce","isd","isDone","init","observable","Observable","subscriber","subn","subscribe","next","unsubscribe","collate","event","error","complete","RouterCore","global","globalThis","self","Error","popStateSubscription","fromEvent","e","listeners","pipe","apply","ops","fn","destroy","callback","Router","document","body","Object","freeze","resolveParams","expr","params","pathRegex","RegExp","lastIndex","keys","Array","from","match","map","key","values","shift","forEach"],"mappings":"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","x_google_ignoreList":[0]}